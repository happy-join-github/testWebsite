import{r as a,H as e,p as l,q as u,z as t,u as n,F as s,s as v,k as o,A as d,B as r,C as i,I as c}from"./vendor-D5Q1vBFt.js";import{a as p}from"./advancedProblem-BIoIn0V2.js";import{_ as m,m as b}from"./index-CR33AVyE.js";const k={class:"app"},y={key:0},h={class:"titleArea"},f={class:"Area"},A={colspan:"5"},C={id:"time"},g={class:"minute"},I={class:"second"},U=["onUpdate:modelValue","disabled"],j={key:1},_={class:"contentArea"},x={class:"Area"},V=["onUpdate:modelValue"],w=m({__name:"divisionProject",setup(m){const w=c(),B=a([]),P=a(!0),O=a([]),S=a(!0),T=b.BankUrl,q=a(0),z=a([]),D=a(0),F=a(0),H=a([]);let J;const L=()=>{S.value=!1,J=setInterval((()=>{0===F.value?0===D.value?(clearInterval(J),S.value=!1,E()):(D.value--,F.value=59):F.value--}),1e3)},N=()=>{S.value=!0,clearInterval(J)},E=()=>{P.value=!1,S.value=!0,(()=>{for(let a=0;a<B.value.length;a++)for(let e=0;e<B.value[a].length;e++)B.value[a][e]!==O.value[a][e]&&(q.value++,z.value.push([H.value[a][e],B.value[a][e]]))})(),fetch(T+"/UserInp2Back3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({count:q.value,errorList:z.value,date:Date.now()})})},G=(a,e)=>B.value[a][e]===O.value[a][e],K=()=>{P.value=!0,Q()},M=()=>{w.push("/")},Q=()=>{const a=p();H.value=a.listbackup,O.value=a.answer,D.value=a.datatime[1],F.value=a.datatime[2],B.value=H.value.map((()=>new Array(H.value[0].length).fill("")))};return e((()=>{Q()})),(a,e)=>(o(),l("div",k,[P.value?(o(),l("div",y,[u("div",h,[u("table",f,[u("thead",null,[u("tr",null,[u("td",A,[e[2]||(e[2]=t("请在方框中填入合适的数字 ")),u("span",C,[u("span",g,n(D.value<10?"0"+D.value:D.value),1),e[0]||(e[0]=t(" 分 ")),u("span",I,n(F.value<10?"0"+F.value:F.value),1),e[1]||(e[1]=t(" 秒 "))])])])]),u("tbody",null,[(o(!0),l(s,null,v(H.value,((a,i)=>(o(),l("tr",{key:i},[(o(!0),l(s,null,v(a,((a,s)=>(o(),l("td",{key:a.id},[u("span",null,n(a.result)+"÷",1),u("span",null,n(a.a?a.a:a.b),1),e[3]||(e[3]=t(" = ")),d(u("input",{type:"text","onUpdate:modelValue":a=>B.value[i][s]=a,disabled:S.value},null,8,U),[[r,B.value[i][s],void 0,{number:!0}]])])))),128))])))),128))])])]),u("div",{class:"submitArea"},[u("button",{onClick:L},"计时并开始答题"),u("button",{onClick:N},"停止计时"),u("button",{onClick:E},"提交答案"),u("button",{onClick:M},"返回首页")])])):(o(),l("div",j,[u("div",_,[u("table",x,[e[5]||(e[5]=u("thead",null,[u("tr",null,[u("td",{colspan:"5"},[t(" 请查看作答结果, "),u("span",{class:"green"},"绿色为正确"),t(", "),u("span",{class:"red"},"红色错误")])])],-1)),u("tbody",null,[(o(!0),l(s,null,v(H.value,((a,c)=>(o(),l("tr",{key:c},[(o(!0),l(s,null,v(a,((a,s)=>(o(),l("td",{key:a.id,class:i({red:!G(c,s),green:G(c,s)})},[u("span",null,n(a.result)+"÷",1),u("span",null,n(a.a?a.a:a.b),1),e[4]||(e[4]=t(" = ")),d(u("input",{type:"text","onUpdate:modelValue":a=>B.value[c][s]=a,readonly:""},null,8,V),[[r,B.value[c][s],void 0,{number:!0}]])],2)))),128))])))),128))])])]),u("div",{class:"submitArea"},[u("button",{onClick:K},"再练习一遍"),u("button",{onClick:M},"返回首页")])]))]))}},[["__scopeId","data-v-c57c464c"]]);export{w as default};
